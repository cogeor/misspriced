
<!DOCTYPE html>
<html>
<head>
    <title>Index Mispricing Analysis</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <style>
        body { font-family: sans-serif; margin: 20px; }
        #plot { width: 100%; height: 600px; }
        .header { text-align: center; margin-bottom: 30px; }
    </style>
</head>
<body>
    <div class="header">
        <h2>Global Index Mispricing Analysis</h2>
        <p>Market Cap Weighted Aggregates</p>
    </div>
    
    <div id="plot"></div>
    
    <script>
        var data = [{"Index": "SP500", "Mispricing": -0.04906541671476285, "MispricingPct": "-4.91%", "Color": "red", "Status": "OVERPRICED", "TotalActual": "$66,787.1B", "TotalPredicted": "$63,510.1B", "Count": 501, "OfficialCount": 501}, {"Index": "NASDAQ100", "Mispricing": -0.06805024819865509, "MispricingPct": "-6.81%", "Color": "red", "Status": "OVERPRICED", "TotalActual": "$37,919.1B", "TotalPredicted": "$35,338.7B", "Count": 100, "OfficialCount": 101}, {"Index": "DAX", "Mispricing": -0.018374172789419826, "MispricingPct": "-1.84%", "Color": "red", "Status": "OVERPRICED", "TotalActual": "$1,893.9B", "TotalPredicted": "$1,859.1B", "Count": 35, "OfficialCount": 41}, {"Index": "FTSE100", "Mispricing": -0.03466222245024851, "MispricingPct": "-3.47%", "Color": "red", "Status": "OVERPRICED", "TotalActual": "$1,015.5B", "TotalPredicted": "$980.3B", "Count": 14, "OfficialCount": 100}, {"Index": "HSI", "Mispricing": -0.05523317182539123, "MispricingPct": "-5.52%", "Color": "red", "Status": "OVERPRICED", "TotalActual": "$36,409.5B", "TotalPredicted": "$34,398.5B", "Count": 36, "OfficialCount": 82}, {"Index": "SP400", "Mispricing": -0.009962361207164976, "MispricingPct": "-1.00%", "Color": "red", "Status": "OVERPRICED", "TotalActual": "$3,525.1B", "TotalPredicted": "$3,490.0B", "Count": 401, "OfficialCount": 401}, {"Index": "SP600", "Mispricing": -0.005051386901633805, "MispricingPct": "-0.51%", "Color": "red", "Status": "OVERPRICED", "TotalActual": "$1,685.1B", "TotalPredicted": "$1,676.6B", "Count": 603, "OfficialCount": 603}, {"Index": "Russell1000", "Mispricing": -0.04602084003085121, "MispricingPct": "-4.60%", "Color": "red", "Status": "OVERPRICED", "TotalActual": "$72,946.3B", "TotalPredicted": "$69,589.2B", "Count": 1004, "OfficialCount": 1007}, {"Index": "CAC40", "Mispricing": -0.01562932202513183, "MispricingPct": "-1.56%", "Color": "red", "Status": "OVERPRICED", "TotalActual": "$747.9B", "TotalPredicted": "$736.2B", "Count": 13, "OfficialCount": 40}, {"Index": "SMI", "Mispricing": -0.009012162979166701, "MispricingPct": "-0.90%", "Color": "red", "Status": "OVERPRICED", "TotalActual": "$531.0B", "TotalPredicted": "$526.2B", "Count": 7, "OfficialCount": 20}, {"Index": "Nifty50", "Mispricing": -0.1683456983846076, "MispricingPct": "-16.83%", "Color": "red", "Status": "OVERPRICED", "TotalActual": "$210,142.0B", "TotalPredicted": "$174,765.5B", "Count": 50, "OfficialCount": 50}, {"Index": "SSE50", "Mispricing": -0.053425620856587884, "MispricingPct": "-5.34%", "Color": "red", "Status": "OVERPRICED", "TotalActual": "$26,472.5B", "TotalPredicted": "$25,058.2B", "Count": 50, "OfficialCount": 50}];
        
        var trace = {
            x: data.map(d => d.Index),
            y: data.map(d => d.Mispricing),
            type: 'bar',
            marker: {
                color: data.map(d => d.Color)
            },
            text: data.map(d => d.MispricingPct),
            textposition: 'auto',
            hovertemplate: 
                "<b>%{x}</b><br>" + 
                "Mispricing: %{text}<br>" + 
                "Status: %{customdata[0]}<br>" + 
                "Coverage: %{customdata[3]} / %{customdata[4]}<br>" +
                "Actual: %{customdata[1]}<br>" + 
                "Predicted: %{customdata[2]}<br>" + 
                "<extra></extra>",
            customdata: data.map(d => [d.Status, d.TotalActual, d.TotalPredicted, d.Count, d.OfficialCount])
        };
        
        var layout = {
            title: 'Index Potential Upside/Downside',
            yaxis: {
                title: 'Mispricing (Predicted vs Actual)',
                tickformat: '.1%'
            },
            xaxis: {
                title: 'Index'
            }
        };
        
        Plotly.newPlot('plot', [trace], layout);
    </script>
</body>
</html>
